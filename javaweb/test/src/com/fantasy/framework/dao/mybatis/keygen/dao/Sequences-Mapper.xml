<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fantasy.framework.dao.mybatis.keygen.dao.SequencesDao">

	<resultMap type="com.fantasy.framework.dao.mybatis.keygen.bean.Sequence" id="SequenceResultMap">
		<id property="key" column="GEN_NAME" />
		<result property="value" column="GEN_VALUE" />
	</resultMap>

    <select id="findUniqueByKey" parameterType="java.lang.String" resultMap="SequenceResultMap" flushCache="true">
        SELECT GEN_NAME,GEN_VALUE FROM sys_sequence WHERE GEN_NAME = #{value}
    </select>

	<select id="selectAll" parameterType="java.lang.String" resultMap="SequenceResultMap" flushCache="true">
		SELECT GEN_NAME,GEN_VALUE FROM sys_sequence
	</select>


	<update id="update" parameterType="com.fantasy.framework.dao.mybatis.keygen.bean.Sequence">
		UPDATE sys_sequence
		<set>
			<if test=" key != null ">GEN_NAME = #{key},</if>
		</set>
		WHERE GEN_NAME = #{originalKey}
	</update>

</mapper>